SYN_MAP = {
    "Generative AI": {
        "synonyms": [
            "generative ai", "generative ai models", "generative ai algorithms",
            "generative ai application development", "generative ai solutions",
            "diffusion models", "diffusion-based video generation models",
            "natural language generation", "nlg"
        ]
    },
    "Large Language Models (LLMs)": {
        "synonyms": [
            "large language models", "llm", "llms", "large language model training",
            "llm architecture", "llm model design", "llm training",
            "llm implementation", "pre-trained llms", "foundation models",
            "foundation model development", "foundation model fine-tuning",
            "multimodal llm", "lmm", "vision-language models"
        ]
    },
    "Retrieval-Augmented Generation (RAG)": {
        "synonyms": [
            "retrieval augmented generation", "rag systems development",
            "rag pipelines", "rag implementation", "knowledge grounding techniques",
            "retrieval and generation algorithms", "semantic augment generation (sag)"
        ]
    },
    "Agentic AI": {
        "synonyms": [
            "agentic ai systems", "multi-agent systems", "multi-agent architecture",
            "agent orchestration", "autonomous agent development",
            "agentic workflows", "agentic reasoning", "agent benchmarking and evaluation"
        ]
    },
    "MLOps": {
        "synonyms": [
            "machine learning operations", "ml ops", "mlops practices",
            "mlops pipeline design", "mlops pipelines", "mlops/DevOps for ML",
            "model deployment and lifecycle management", "model registry",
            "experiment tracking", "drift detection", "monitoring and retraining",
            "governance", "model governance and security", "ml lifecycle management"
        ]
    },
    "DevOps": {
        "synonyms": [
            "devops practices", "devsecops", "devops/ci/cd", "infrastructure as code",
            "iac", "gitops", "automation"
        ]
    },
    "CI/CD": {
        "synonyms": [
            "ci/cd pipeline automation", "ci/cd implementation",
            "continuous integration/continuous deployment", "ci/cd pipelines",
            "design and maintenance of ci/cd pipelines"
        ]
    },
    "System Design & Architecture": {
        "synonyms": [
            "system architecture", "software architecture", "system design",
            "solution architecture", "scalable system design",
            "server-side architecture design", "system design principles",
            "production system design and deployment", "enterprise architecture"
        ]
    },
    "Data Engineering": {
        "synonyms": [
            "data pipeline development", "data pipeline architecture",
            "etl", "elt", "data ingestion", "feature store",
            "data pipelines and etl systems at scale",
            "data management and processing best practices",
            "big data pipeline construction"
        ]
    },
    "Data Science": {
        "synonyms": [
            "exploratory data analysis", "statistical analysis", "statistics",
            "predictive analytics", "data analysis", "statistical modeling",
            "hypothesis testing", "experimental design", "design of experiments"
        ]
    },
    "Machine Learning": {
        "synonyms": [
            "ml", "machine learning algorithms", "machine learning model development",
            "machine learning methods and algorithms", "classical machine learning",
            "supervised learning", "unsupervised learning", "regression",
            "classification", "clustering", "recommendation", "recommender systems",
            "ranking systems", "ranking and retrieval", "representation learning"
        ]
    },
    "Deep Learning": {
        "synonyms": [
            "neural networks", "deep neural networks", "deep learning model design",
            "transformer models", "transformer architectures", "cnn",
            "convolutional neural networks", "rnn", "lstm", "self-supervised learning"
        ]
    },
    "NLP": {
        "synonyms": [
            "natural language processing", "nlu", "document understanding",
            "information extraction", "named entity recognition", "question answering",
            "text classification", "text mining", "ocr integration",
            "speech-to-text", "asr", "text-to-speech", "tts", "dialog management",
            "conversational ai"
        ]
    },
    "Computer Vision": {
        "synonyms": [
            "visual classification", "object detection", "object tracking",
            "instance segmentation", "semantic segmentation", "perception",
            "gesture recognition", "motion recognition", "multimodal vision-language"
        ]
    },
    "Information Retrieval & Search": {
        "synonyms": [
            "search", "search and retrieval systems", "information retrieval",
            "vector-based information retrieval", "semantic search", "hybrid search",
            "document re-ranking", "reciprocal rank fusion", "vector search"
        ]
    },
    "Evaluation & Experimentation": {
        "synonyms": [
            "model evaluation", "model evaluation and benchmarking",
            "model benchmarking", "evaluation frameworks", "evaluation metrics",
            "a/b testing", "a/b testing of experiments", "offline/online/shadow testing",
            "human-in-the-loop evaluation frameworks", "success metrics"
        ]
    },
    "Deployment & Serving": {
        "synonyms": [
            "model deployment", "model serving", "real-time inference",
            "batch and real-time inference", "secure and efficient model deployment",
            "llm inference", "large language model inference", "bulk inference at scale"
        ]
    },
    "Performance & Optimization": {
        "synonyms": [
            "performance optimization", "low-level optimization", "inference optimization",
            "optimization techniques", "numerical optimization",
            "training and inference optimization", "latency and cost optimization",
            "throughput optimization"
        ]
    },
    "Compression & Post-Training": {
        "synonyms": [
            "quantization", "pruning", "knowledge distillation", "distillation",
            "lora", "peft", "post-training optimization"
        ]
    },
    "Responsible AI / Safety / Security": {
        "synonyms": [
            "ai safety", "trust and safety compliance", "content safety",
            "responsible ai", "ai ethics", "fairness and bias mitigation",
            "privacy-preserving ml", "pii detection", "membership inference attacks",
            "model robustness and security", "llm safety techniques", "guardrails"
        ]
    },
    "Monitoring & Observability": {
        "synonyms": [
            "monitoring", "observability", "telemetry", "logging and alerting",
            "open telemetry", "operations metrics and monitoring",
            "model monitoring and maintenance", "drift detection"
        ]
    },
    "Distributed Systems": {
        "synonyms": [
            "distributed computing", "distributed systems design",
            "high-performance computing", "hpc", "large-scale distributed systems",
            "low-latency high-throughput services", "scalability and latency optimization"
        ]
    },
    "Reinforcement Learning": {
        "synonyms": [
            "rl", "rlhf", "dpo", "ppo", "multi-agent rl",
            "imitation learning", "few-shot learning", "meta-learning"
        ]
    },
    "Graph ML / Knowledge Graphs": {
        "synonyms": [
            "graph machine learning", "graph neural networks", "graph embedding",
            "knowledge graph", "knowledge extraction", "graphs"
        ]
    },
    "Cloud Platforms": {
        "synonyms": [
            "cloud infrastructure management", "cloud platforms",
            "cloud-based machine learning platforms", "cloud modernization and migration"
        ]
    },
    "AWS": {
        "synonyms": [
            "amazon web services", "aws ai/ml services", "aws sagemaker",
            "aws bedrock", "aws bedrock api", "aws ecs", "aws lambda", "aws s3",
            "aws sqs", "aws sns", "inferentia", "trainium"
        ]
    },
    "Azure": {
        "synonyms": [
            "azure cloud", "azure ml", "azure machine learning",
            "azure openai service", "azure kubernetes service", "azure devops"
        ]
    },
    "Google Cloud": {
        "synonyms": [
            "gcp", "google vertex ai", "vertex ai", "dataflow", "composer",
            "bigquery", "pub/sub", "cloud run", "cloud storage"
        ]
    },
    "Vector Databases": {
        "synonyms": [
            "vector dbs", "vector databases", "pinecone", "weaviate", "chroma",
            "vector database integration", "similarity search"
        ]
    },
    "Orchestration & Workflow": {
        "synonyms": [
            "apache airflow", "airflow", "kubeflow", "argo", "argo cd",
            "temporal", "ray", "celery", "workflow orchestration tools"
        ]
    },
    "Model Tracking & Experimentation": {
        "synonyms": [
            "mlflow", "weights & biases", "wandb", "dvc",
            "experiment tracking", "model versioning and reproducibility"
        ]
    },
    "Data Platforms & Engines": {
        "synonyms": [
            "spark", "pyspark", "databricks", "hadoop", "kafka", "snowflake",
            "big data", "snowpark", "hbase", "hive", "emr"
        ]
    },
    "Search Engines": {
        "synonyms": [
            "elasticsearch", "opensearch", "bigtable", "neo4j"
        ]
    },
    "Databases": {
        "synonyms": [
            "sql databases", "nosql databases", "postgresql", "redis", "mysql",
            "sql server", "relational databases", "database design", "database administration"
        ]
    },
    "LLM/AI Frameworks": {
        "synonyms": [
            "hugging face", "transformers", "pytorch lightning",
            "llamaindex", "langchain", "langgraph", "semantic kernel",
            "autogen", "crewai", "open ai agentic sdk", "vllm", "tensorrt-llm"
        ]
    },
    "DL/ML Frameworks": {
        "synonyms": [
            "pytorch", "tensorflow", "keras", "scikit-learn", "sklearn", "jax",
            "opencv", "mediapipe", "xgboost", "catboost"
        ]
    },
    "GPU / Acceleration": {
        "synonyms": [
            "gpu deployments", "gpu computing", "cuda", "tensor rt",
            "hardware acceleration", "compiler optimizations",
            "kernel optimization", "triton", "domain-specific compilers"
        ]
    },
    "Languages": {
        "synonyms": [
            "python", "java", "c++", "c", "go", "golang", "rust",
            "typescript", "javascript", "bash", "shell", "sql", "r"
        ]
    },
    "APIs & Integration": {
        "synonyms": [
            "api development", "api design", "apis", "rest", "graphql", "grpc",
            "api and system integration", "microservices", "backend services",
            "http service integration"
        ]
    },
    "Testing & Quality": {
        "synonyms": [
            "unit testing", "tdd", "bdd", "automated testing frameworks",
            "debugging", "code quality and engineering best practices",
            "software testing"
        ]
    },
    "Security": {
        "synonyms": [
            "application security", "cyber security", "security-focused modeling",
            "data security, compliance, and cost optimization", "privacy",
            "pii handling", "redaction"
        ]
    },
    "Observability Stack": {
        "synonyms": [
            "prometheus", "grafana", "opentelemetry", "distributed tracing",
            "monitoring systems", "logging and alerting implementation"
        ]
    },
    "Recommenders & Personalization": {
        "synonyms": [
            "recommendation systems", "ranking models", "learning-to-rank",
            "collaborative filtering", "real-time personalization systems",
            "exploration/exploitation"
        ]
    }
}
import re

CANON = {  # build fast lookup: variant(lower) -> canonical
    v.lower(): k
    for k, cfg in SYN_MAP.items()
    for v in cfg["synonyms"] + [k]  # include the canonical itself
}

def normalize_term(term: str) -> str:
    # cheap text cleanup
    t = term.strip().lower()
    t = re.sub(r'["“”()\\[\\]]', " ", t)
    t = re.sub(r'\\s+', " ", t)
    return CANON.get(t, term.strip())  # fall back to original if unknown
